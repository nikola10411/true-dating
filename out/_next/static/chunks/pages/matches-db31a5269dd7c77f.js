(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4273],{36278:function(e,t,n){"use strict";var r=n(88169),o=n(85893);t.Z=(0,r.Z)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},38043:function(e,t,n){"use strict";var r=n(88169),o=n(85893);t.Z=(0,r.Z)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite")},35365:function(e,t,n){"use strict";var r=n(88169),o=n(85893);t.Z=(0,r.Z)((0,o.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},66242:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(87462),o=n(63366),i=n(67294),a=n(86010),s=n(94780),c=n(90948),l=n(71657),d=n(90629),u=n(1588),h=n(34867);function p(e){return(0,h.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var Z=n(85893);let m=["className","raised"],f=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},p,t)},x=(0,c.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=i.forwardRef(function(e,t){let n=(0,l.Z)({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,c=(0,o.Z)(n,m),d=(0,r.Z)({},n,{raised:s}),u=f(d);return(0,Z.jsx)(x,(0,r.Z)({className:(0,a.Z)(u.root,i),elevation:s?8:void 0,ref:t,ownerState:d},c))});var j=v},44267:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(87462),o=n(63366),i=n(67294),a=n(86010),s=n(94780),c=n(90948),l=n(71657),d=n(1588),u=n(34867);function h(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var p=n(85893);let Z=["className","component"],m=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},h,t)},f=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=i.forwardRef(function(e,t){let n=(0,l.Z)({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,c=(0,o.Z)(n,Z),d=(0,r.Z)({},n,{component:s}),u=m(d);return(0,p.jsx)(f,(0,r.Z)({as:s,className:(0,a.Z)(u.root,i),ownerState:d,ref:t},c))});var v=x},18718:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/matches",function(){return n(58287)}])},58287:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85893),o=n(67294),i=n(99226),a=n(46574),s=n(15861),c=n(86886),l=n(66242),d=n(44267),u=n(34386),h=n(83321),p=n(11163),Z=n(71310),m=n(21640),f=n(93193),x=n(50356),v=n(81588),j=n(17866),g=n(38043),M=(0,n(88169).Z)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People"),C=n(35365),y=n(36278);function w(){let e=(0,p.useRouter)(),{user:t}=(0,m.a)(),[n,w]=(0,o.useState)([]),[k,_]=(0,o.useState)([]),[R,b]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=async()=>{let e=await (0,Z.u)(t.email);if(!e.length)return;w(e);let n=t.email,r=e.map(e=>{let{users:t}=e;return t}).flat().filter(e=>e!==n),o=await (0,f.$z)(r);if(o.length){let e=o.map(e=>({id:e.id,...e.data()}));_(e)}};e().then(()=>b(!1)).catch(e=>{console.error(e),b(!1)})},[t.email]);let z=(0,o.useMemo)(()=>(null==n?void 0:n.length)?n.map(e=>{let{matchType:t,users:n,id:r,seenBy:o}=e,i=k.find(e=>n.includes(e.email));return{...i,matchType:t,matchId:r,seenBy:o}}):[],[n,k]);return R?(0,r.jsx)(x.Z,{}):(0,r.jsx)(i.Z,{py:6,bgcolor:v.DM.lightGrey,minHeight:"inherit",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(i.Z,{textAlign:"center",pb:8,children:(0,r.jsxs)(s.Z,{variant:"h4",children:[(0,r.jsx)("strong",{children:"Your"})," Matches"]})}),z.length?(0,r.jsx)(c.ZP,{container:!0,spacing:4,children:z.map(t=>(0,r.jsx)(c.ZP,{item:!0,sx:e=>({[e.breakpoints.down("xs")]:{width:"100%"}}),children:(0,r.jsx)(l.Z,{sx:e=>({"& .MuiCardContent-root":{display:"flex",flexDirection:"column",alignItems:"center"}}),children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(i.Z,{children:(0,r.jsx)(u.Z,{title:"".concat(1===t.matchType?"Romantical":"Friendship"," Match"),children:1===t.matchType?(0,r.jsx)(g.Z,{color:"primary"}):(0,r.jsx)(M,{style:{fill:v.DM.green}})})}),(0,r.jsx)(i.Z,{style:{backgroundImage:"url(".concat(t.photoURL||("M"===t.gender?"https://media.istockphoto.com/vectors/default-placeholder-man-vector-id844000458?":"https://st3.depositphotos.com/9998432/13335/v/600/depositphotos_133351974-stock-illustration-default-placeholder-woman.jpg"),")")},sx:e=>({width:e.spacing(20),height:e.spacing(20),borderRadius:e.spacing(10),boxShadow:e.shadows[2],backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"})}),(0,r.jsx)(s.Z,{variant:"h6",children:(0,r.jsx)("strong",{children:t.firstName})}),(0,r.jsxs)(i.Z,{pt:2,children:[(0,r.jsx)(h.Z,{fullWidth:!0,variant:"contained",color:"primary",endIcon:(0,r.jsx)(C.Z,{}),onClick:()=>e.push(j._.messages,t),children:"Send a Message"}),(0,r.jsx)(i.Z,{py:1}),(0,r.jsx)(h.Z,{fullWidth:!0,variant:"outlined",color:"primary",endIcon:(0,r.jsx)(y.Z,{}),onClick:()=>{(0,Z.M)(t.matchId),w(e=>e.filter(e=>e.id!==t.matchId))},children:"Unmatch"})]})]})})},t.id))}):(0,r.jsxs)(i.Z,{textAlign:"center",children:[(0,r.jsxs)(s.Z,{variant:"h6",children:[(0,r.jsx)("strong",{style:{color:v.DM.radicalRed},children:"Oops!"}),(0,r.jsx)("br",{}),"It looks like you haven't attended an event yet.",(0,r.jsx)("br",{}),"To enter matches, please first purchase a ticket to an upcoming event."]}),(0,r.jsx)(i.Z,{py:4,children:(0,r.jsx)(h.Z,{variant:"contained",color:"primary",onClick:()=>e.push(j._.events),children:"Buy your first ticket"})})]})]})})}},71310:function(e,t,n){"use strict";n.d(t,{M:function(){return a},u:function(){return i}});var r=n(60075),o=n(36100);let i=async e=>{let t=(0,o.IO)((0,o.hJ)(r.RZ,"matches"),(0,o.ar)("users","array-contains",e)),n=(await (0,o.PL)(t)).docs.map(e=>{let t=e.data();return{...t,id:e.id}});return n.length?n:[]},a=e=>r.RZ.collection("matches").doc(e).delete()}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=18718)}),_N_E=e.O()}]);
//# sourceMappingURL=matches-db31a5269dd7c77f.js.map