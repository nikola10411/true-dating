(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2506],{72428:function(e,t,n){"use strict";var i=n(88169),r=n(85893);t.Z=(0,i.Z)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},36278:function(e,t,n){"use strict";var i=n(88169),r=n(85893);t.Z=(0,i.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},51797:function(e,t,n){"use strict";var i=n(88169),r=n(85893);t.Z=(0,i.Z)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},43759:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/events",function(){return n(95095)}])},95095:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var i=n(85893),r=n(67294),a=n(93946),s=n(99226),l=n(83321),c=n(51797),o=n(72428),d=(0,n(88169).Z)((0,i.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5 6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"}),"Archive"),u=n(36278),h=n(11163),f=n(17866),m=n(57213),x=n(80735),p=n(84714),g=n(42409),v=n(51750),j=n(48070);let b=[{field:"id",headerName:"ID",width:200,sortable:!1},{field:"designMyNightId",headerName:"Design My Night ID",width:200,sortable:!1},{field:"title",headerName:"Title",width:250},{field:"dateTime",headerName:"Time of the Event",width:170,valueGetter:e=>{let{row:t}=e;return(0,x.re)(t.dateTime)}},{field:"venue",headerName:"Venue",width:200},{field:"ticketPrice",headerName:"Ticket Price",width:130,renderCell:e=>{let{row:t}=e;return"".concat(m.ej).concat(t.ticketPrice)}},{field:"createdAt",headerName:"Created At",width:140,valueGetter:e=>{let{row:t}=e;return(0,x.re)(t.createdAt)}},{field:"hidden",headerName:"",disableClickEventBubbling:!0,sortable:!1,renderCell:e=>{let{row:t}=e;return(0,i.jsx)(a.Z,{title:"Edit Event Details",component:"a",href:"".concat(f._.adminEvents,"/").concat(t.id),children:(0,i.jsx)(c.Z,{})})}}];function _(){let[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),{events:c,loading:m,eventsLoaded:x,loadEvents:_,setEvents:y}=(0,p.h)(),[Z,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{console.log(c)},[c]),(0,r.useEffect)(()=>{x||_()},[x]);let C=(0,h.useRouter)(),M=(0,r.useCallback)(e=>{t(e)},[]),E=(0,r.useCallback)(e=>{a(e)},[]),k=async()=>{w(!0);try{await (0,g.BR)(c.filter(e=>n.includes(e.id))),y(c.filter(e=>!n.includes(e.id))),a([])}catch(e){console.log(e.message)}w(!1)},N=async()=>{w(!0);try{await (0,g.xH)(c.filter(t=>e.includes(t.id))),t([])}catch(e){console.log(e.message)}w(!1)},S=async()=>{w(!0);try{await (0,g.CA)(c.filter(e=>n.includes(e.id))),a([])}catch(e){console.log(e.message)}w(!1)};return(0,i.jsx)(v.default,{children:(0,i.jsxs)(s.Z,{width:"100%",children:[(0,i.jsxs)(s.Z,{mb:2,display:"flex",justifyContent:"space-between",children:[(0,i.jsx)(l.Z,{onClick:()=>C.push(f._.adminEvents+"/add"),startIcon:(0,i.jsx)(o.Z,{}),color:"primary",variant:"contained",children:"Create Event"}),e.length>0&&(0,i.jsxs)(l.Z,{onClick:N,startIcon:(0,i.jsx)(d,{color:"primary"}),color:"inherit",variant:"contained",children:["Archive (",e.length,")"]})]}),(0,i.jsx)(j._,{autoHeight:!0,loading:Z||m,sx:{'& [role="columnheader"][data-field="hidden"]':{display:"none"}},disableSelectionOnClick:!0,pageSize:5,rowsPerPageOptions:[5],rows:c.filter(e=>!e.archived),columns:b,checkboxSelection:!0,onSelectionModelChange:M}),(0,i.jsxs)(s.Z,{my:2,display:"flex",justifyContent:"flex-end",children:[(0,i.jsxs)(l.Z,{onClick:S,startIcon:(0,i.jsx)(d,{}),color:"primary",variant:"contained",disabled:0===n.length,style:{marginRight:"2rem"},children:["Unarchive (",n.length,")"]}),(0,i.jsxs)(l.Z,{onClick:k,startIcon:(0,i.jsx)(u.Z,{color:"primary"}),color:"secondary",variant:"contained",disabled:0===n.length,children:["Delete (",n.length,")"]})]}),(0,i.jsx)(j._,{autoHeight:!0,autoPageSize:!0,loading:Z||m,sx:{'& [role="columnheader"][data-field="hidden"]':{display:"none"}},disableSelectionOnClick:!0,rows:c.filter(e=>e.archived),columns:b,checkboxSelection:!0,onSelectionModelChange:E})]})})}},51750:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=n(85893),r=n(40044),a=n(42293),s=n(37023),l=n(11163),c=n(17866),o=n(18377),d=n(32045),u=n(76722),h=n(28849),f=n(52594),m=n(73479),x=n(36400),p=n(67294);function g(e){let{to:t,...n}=e;return(0,i.jsx)(r.Z,{component:"a",href:t,...n})}function v(e){let{children:t}=e,n=(0,l.useRouter)(),r=(0,p.useMemo)(()=>{switch(!0){case n.pathname.includes(c._.adminEvents):return 0;case n.pathname.includes(c._.adminBlogs):return 1;case n.pathname.includes(c._.adminUsers):return 2;default:return!1}},[n.pathname]),[v,j]=(0,p.useState)(r);return(0,i.jsxs)(o.Z,{sx:{flexGrow:1,width:"100%"},children:[(0,i.jsx)(a.Z,{position:"static",color:"default",children:(0,i.jsxs)(s.Z,{value:v,onChange:(e,t)=>{j(t)},indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example",centered:!0,children:[(0,i.jsx)(g,{sx:{"&:not(.Mui-selected)":{color:"secondary.main"}},label:"Events",icon:(0,i.jsx)(u.Z,{}),to:c._.adminEvents}),(0,i.jsx)(g,{sx:{"&:not(.Mui-selected)":{color:"secondary.main"}},label:"Blogs",icon:(0,i.jsx)(h.Z,{}),to:c._.adminBlogs}),(0,i.jsx)(g,{sx:{"&:not(.Mui-selected)":{color:"secondary.main"}},label:"Users",icon:(0,i.jsx)(f.Z,{}),to:c._.adminUsers}),(0,i.jsx)(g,{sx:{"&:not(.Mui-selected)":{color:"secondary.main"}},label:"Subscribers",icon:(0,i.jsx)(m.Z,{}),to:c._.adminSubscribers}),(0,i.jsx)(g,{sx:{"&:not(.Mui-selected)":{color:"secondary.main"}},label:"Offers",icon:(0,i.jsx)(x.Z,{}),to:c._.offers})]})}),(0,i.jsx)(d.Z,{id:"TAB_CONTENT",children:(0,i.jsx)(o.Z,{py:2,children:t})})]})}},57213:function(e,t,n){"use strict";n.d(t,{As:function(){return i},CV:function(){return r},Jd:function(){return p},OS:function(){return c},T5:function(){return h},_X:function(){return m},_w:function(){return s},bH:function(){return a},ej:function(){return d},hA:function(){return u},jp:function(){return f},pl:function(){return l},s7:function(){return x},vt:function(){return o}});let i="Invalid email! Please provide a valid email address!",r="Password should be at least 6 characters",a="auth/wrong-password",s="auth/user-not-found",l="MEMBERSHIP_1_MONTH",c="MEMBERSHIP_3_MONTHS",o="MEMBERSHIP_6_MONTHS",d="\xa3",u="pending",h="https://us-central1-true-dating-ff8ed.cloudfunctions.net/api",f="https://i.stack.imgur.com/y9DpT.jpg",m="images/blogs",x="images/users",p="https://firebasestorage.googleapis.com/v0/b/true-dating-ff8ed.appspot.com/o/True%20Dating%20Final.mp4?alt=media&token=e17514a5-893f-44d1-aecc-9f86ac00bdde"}},function(e){e.O(0,[1903,935,6023,8070,9774,2888,179],function(){return e(e.s=43759)}),_N_E=e.O()}]);
//# sourceMappingURL=events-3cc4a2c0bf124d0b.js.map