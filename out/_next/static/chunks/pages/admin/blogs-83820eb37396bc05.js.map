{"version":3,"file":"static/chunks/pages/admin/blogs-83820eb37396bc05.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@mui/icons-material/esm/Add.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/DeleteForever.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Edit.js","webpack://_N_E/?0616","webpack://_N_E/./pages/admin/blogs/index.js","webpack://_N_E/./pages/admin/layout.js","webpack://_N_E/<anon>"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteForever');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/blogs\",\n      function () {\n        return require(\"private-next-pages/admin/blogs/index.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/blogs\"])\n      });\n    }\n  ","import { memo, useCallback, useEffect, useState } from \"react\";\nimport { useBlogs } from \"../../../src/contexts/BlogsProvider\";\nimport { deleteBlogs } from \"../../../src/services/blog\";\nimport { Box, Button, IconButton } from \"@mui/material\";\nimport { Add, DeleteForever, Edit } from \"@mui/icons-material\";\nimport { useRouter } from \"next/router\";\nimport { routes } from \"../../../src/routes\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport Layout from \"../layout\";\nimport { getUKDateTime } from \"../../../src/utils/date\";\n\nconst columns = [\n  { field: 'id', headerName: 'ID', width: 200, sortable: false },\n  { field: 'title', headerName: 'Title', width: 250 },\n  {\n    field: 'createdAt',\n    headerName: 'Created At',\n    width: 140,\n    valueGetter: ({ row }) => getUKDateTime(row.createdAt),\n  },\n  {\n    field: 'hidden',\n    headerName: '',\n    disableClickBlogBubbling: true,\n    sortable: false,\n    renderCell: ({ row }) => (\n      <IconButton\n        component='a'\n        title='Edit Blog Details'\n        href={`${routes.adminBlogs}/${row.id}`}\n      >\n        <Edit />\n      </IconButton>\n    ),\n  },\n];\n\nfunction AdminBlogs() {\n  const [selectedRows, setSelectedRows] = useState([]);\n  const { blogs, loading, blogsLoaded, loadBlogs, setBlogs } = useBlogs();\n  const [syncing, setSyncing] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!blogsLoaded && !loading) {\n      loadBlogs();\n    }\n  }, [blogsLoaded, loadBlogs, loading]);\n\n  const handleSelectedRows = useCallback((newSelectedRows) => {\n    setSelectedRows(newSelectedRows);\n  }, []);\n\n  const handleDeleteBlogs = async () => {\n    setSyncing(true);\n    try {\n      await deleteBlogs(blogs.filter((blog) => selectedRows.includes(blog.id)));\n      setBlogs(blogs.filter((blog) => !selectedRows.includes(blog.id)));\n      setSelectedRows([]);\n    } catch (error) {\n      console.log(error.message);\n    }\n    setSyncing(false);\n  };\n\n  return (\n    <Layout>\n      <Box width={'100%'}>\n        <Box mb={2} display='flex' justifyContent='space-between'>\n          <Button\n            onClick={() => router.push(routes.adminBlogs + '/add')}\n            startIcon={<Add />}\n            color='primary'\n            variant='contained'\n          >\n            Create Blog\n          </Button>\n          <Box display={'flex'}>\n            {selectedRows.length > 0 && (\n              <Button\n                onClick={handleDeleteBlogs}\n                startIcon={<DeleteForever color='primary' />}\n                color='secondary'\n                variant='contained'\n              >\n                Delete ({selectedRows.length})\n              </Button>\n            )}\n          </Box>\n        </Box>\n        <DataGrid\n          autoHeight\n          // autoPageSize\n          loading={syncing || loading}\n          sx={{\n            '& [role=\"columnheader\"][data-field=\"hidden\"]': {\n              display: 'none',\n            },\n          }}\n          disableSelectionOnClick\n          rows={blogs}\n          columns={columns}\n          checkboxSelection\n          onSelectionModelChange={handleSelectedRows}\n        />\n      </Box>\n    </Layout>\n  )\n}\n\nexport default memo(AdminBlogs)","import { AppBar, Tab, Tabs } from \"@mui/material\";\nimport { useRouter } from \"next/router\";\nimport { routes } from \"../../src/routes\";\nimport { Box, Container } from \"@mui/system\";\nimport { Description, EmailOutlined, Event, PeopleAlt, Star } from \"@mui/icons-material\";\nimport { useMemo, useState } from \"react\";\n\nconst EVENTS = 'Events';\nconst BLOGS = 'Blogs';\nconst USERS = 'Users';\nconst SUBSCRIBERS = 'Subscribers';\nconst OFFERS = 'Offers';\n\n\nfunction LinkTab({to, ...props }) {\n  return (\n    <Tab\n      component='a'\n      href={to}\n      {...props}\n    />\n  )\n}\n\nexport default function Layout({children}) {\n  const router = useRouter();\n\n  const initialTabValue = useMemo(() => {\n    switch (true) {\n      case router.pathname.includes(routes.adminEvents): {\n        return 0;\n      }\n\n      case router.pathname.includes(routes.adminBlogs): {\n        return 1;\n      }\n\n      case router.pathname.includes(routes.adminUsers): {\n        return 2;\n      }\n\n      // case location.pathname.includes(routes.adminRefund): {\n      //   return 2;\n      // }\n\n      \n\n      default: {\n        return false;\n      }\n    }\n  }, [router.pathname]);\n\n  const [value, setValue] = useState(initialTabValue);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Box sx={{\n      flexGrow: 1,\n      width: '100%',\n    }}>\n      <AppBar position='static' color='default'>\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          // variant='scrollable'\n          // scrollButtons='on'\n          indicatorColor='primary'\n          textColor='primary'\n          aria-label='scrollable force tabs example'\n          centered\n        >\n          <LinkTab\n            sx={{\n              '&:not(.Mui-selected)': {\n                color: 'secondary.main',\n              },\n            }}\n            label={EVENTS}\n            icon={<Event />}\n            to={routes.adminEvents}\n          />\n          <LinkTab\n            sx={{\n              '&:not(.Mui-selected)': {\n                color: 'secondary.main',\n              },\n            }}\n            label={BLOGS}\n            icon={<Description />}\n            to={routes.adminBlogs}\n          />\n          <LinkTab\n            sx={{\n              '&:not(.Mui-selected)': {\n                color: 'secondary.main',\n              },\n            }}\n            label={USERS}\n            icon={<PeopleAlt />}\n            to={routes.adminUsers}\n          />\n          <LinkTab\n            sx={{\n              '&:not(.Mui-selected)': {\n                color: 'secondary.main',\n              },\n            }}\n            label={SUBSCRIBERS}\n            icon={<EmailOutlined />}\n            to={routes.adminSubscribers}\n          />\n          <LinkTab\n            sx={{\n              '&:not(.Mui-selected)': {\n                color: 'secondary.main',\n              },\n            }}\n            label={OFFERS}\n            icon={<Star />}\n            to={routes.offers}\n          />\n        </Tabs>\n      </AppBar>\n      <Container id='TAB_CONTENT'>\n        <Box py={2}>\n          {children}\n        </Box>\n      </Container>\n    </Box>\n  )\n}"],"names":["__webpack_exports__","Z","_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","d","window","__NEXT_P","push","__webpack_require__","columns","field","headerName","width","sortable","valueGetter","row","param","getUKDateTime","createdAt","disableClickBlogBubbling","renderCell","IconButton","component","title","href","routes","adminBlogs","concat","id","Edit","memo","selectedRows","setSelectedRows","useState","blogs","loading","blogsLoaded","loadBlogs","setBlogs","useBlogs","syncing","setSyncing","router","useRouter","useEffect","handleSelectedRows","useCallback","newSelectedRows","handleDeleteBlogs","deleteBlogs","filter","includes","blog","error","console","log","message","Layout","jsxs","Box","mb","display","justifyContent","Button","onClick","startIcon","Add","color","variant","length","DeleteForever","DataGrid","autoHeight","sx","disableSelectionOnClick","rows","checkboxSelection","onSelectionModelChange","LinkTab","to","props","Tab","children","initialTabValue","useMemo","pathname","adminEvents","adminUsers","value","setValue","flexGrow","AppBar","position","Tabs","onChange","event","newValue","indicatorColor","textColor","aria-label","centered","label","icon","Event","Description","PeopleAlt","EmailOutlined","adminSubscribers","Star","offers","Container","py"],"sourceRoot":""}